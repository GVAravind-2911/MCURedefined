'use client'

import { useState, useEffect, ChangeEvent } from "react";
import { useRouter } from "next/navigation";
import BlockWrapper from "@/components/BlockWrapper";
import EmbedBlock from "@/components/EmbedBlock";
import ImageBlock from "@/components/ImageBlock";
import TextBlock from "@/components/TextBlock";
import ThumbnailBlock from "@/components/ThumbnailBlock";
import "@/styles/editblogpage.css";

interface ContentBlock {
  id: string;
  type: 'text' | 'image' | 'embed';
  content: string | { link: string };
}

interface BlogData {
  title: string;
  author: string;
  description: string;
  content: ContentBlock[];
  tags: string[];
  thumbnail_path: {
    link: string;
  };
  created_at: string;
}

interface InitialState {
  contentBlocks: ContentBlock[];
  title: string;
  author: string;
  description: string;
  thumbnail: string;
  tags: string[];
}

const useInitialState = (): InitialState => ({
  contentBlocks: [],
  title: "",
  author: "",
  description: "",
  thumbnail: "",
  tags: []
});

const CreateBlogPage: React.FC = () => {
  const router = useRouter();
  const initialState = useInitialState();
  
  const [contentBlocks, setContentBlocks] = useState<ContentBlock[]>(initialState.contentBlocks);
  const [tags, setTags] = useState<string[]>(initialState.tags);
  const [title, setTitle] = useState<string>(initialState.title);
  const [author, setAuthor] = useState<string>(initialState.author);
  const [description, setDescription] = useState<string>(initialState.description);
  const [thumbnail, setThumbnail] = useState<string>(initialState.thumbnail);

  // ...existing code...
};

export default CreateBlogPage;